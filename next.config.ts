// next.config.ts
import type { NextConfig } from 'next';

const nextConfig: NextConfig = {
  // Настройка заголовков HTTP-ответов для всех маршрутов
  headers: async () => [
    {
      // Применяем эти заголовки ко всем путям (маршрутам) в приложении
      source: '/(.*)', // Это регулярное выражение означает "любой путь"
      headers: [
        {
          key: 'X-Frame-Options',
          // ВНИМАНИЕ: Значение 'ALLOWALL' не является стандартным и может быть небезопасным.
          // Оно либо игнорируется браузерами, либо может привести к уязвимостям (clickjacking).
          //
          // Рекомендуемые значения:
          // 'DENY': (Самое безопасное) Страница не может отображаться ни в каком фрейме.
          // 'SAMEORIGIN': (Часто используется) Страница может отображаться во фрейме только на том же домене.
          //
          // Если есть КРАЙНЕ ВАЖНАЯ причина, по которой этот сайт должен быть встроен во фрейм
          // на ДРУГОМ домене, то этот метод (X-Frame-Options) не является лучшим для такой задачи.
          // Вместо него обычно используют CORS (Cross-Origin Resource Sharing) для управления
          // доступом к ресурсам, но не для прямого встраивания всего сайта.
          //
          // Если встраивание в фреймы НЕ ТРЕБУЕТСЯ, то лучше использовать 'DENY' или 'SAMEORIGIN'.
          // В данном случае, я предлагаю изменить на 'SAMEORIGIN', как более гибкий вариант по умолчанию.
          value: 'SAMEORIGIN', // <-- ИЗМЕНИТЬ ЗДЕСЬ
        },
        // Пример добавления другого заголовка, если потребуется:
        // {
        //   key: 'Strict-Transport-Security',
        //   value: 'max-age=31536000; includeSubDomains; preload',
        // },
      ],
    },
  ],
  // Дополнительные настройки Next.js могут быть добавлены здесь.
  // Например, настройка изображений, переменных окружения, перенаправлений и т.д.
  //
  // images: {
  //   domains: ['example.com'], // Если загружаешь изображения с внешних доменов
  // },
  //
  // experimental: {
  //   serverActions: true, // Включаем Server Actions (если используются)
  // },
};

export default nextConfig;
