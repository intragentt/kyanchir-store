ü§ñ KYANCHIR AGENTS: PROJECT INTELLIGENCE
–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ: 2025‚Äë10‚Äë07)

## üìä Project Health Snapshot
- –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å: **52‚ÄØ%** ‚Äî –≤–∏—Ç—Ä–∏–Ω–∞ –∏ checkout —Ä–∞–±–æ—Ç–∞—é—Ç, –Ω–æ –æ—Å—Ç–∞—é—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–æ–ª–≥–∏ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
- Architecture Quality: 55/100 ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ App Router —Å—Ç–∞–±–∏–ª—å–Ω–∞, –Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–∏—Ç—Ä–∏–Ω—ã –≤—Å—ë –µ—â—ë `force-dynamic` –∏ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—é—Ç –ë–î.„ÄêF:src/app/(site)/page.tsx‚Ä†L7-L47„Äë„ÄêF:src/app/(site)/catalog/page.tsx‚Ä†L1-L51„Äë
- Feature Completeness: 45/100 ‚Äî –∫–æ—Ä–∑–∏–Ω–∞ –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–ø–ª–∞—Ç—ã, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤.„ÄêF:src/store/useCartStore.ts‚Ä†L1-L112„Äë„ÄêF:src/app/api/orders/route.ts‚Ä†L64-L189„Äë
- Production Readiness: 35/100 ‚Äî `vercel.json` —Ö—Ä–∞–Ω–∏—Ç —Å–µ–∫—Ä–µ—Ç, `tsconfig.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—à–∏–±–æ—á–Ω—ã–π include, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω.„ÄêF:vercel.json‚Ä†L1-L9„Äë„ÄêF:tsconfig.json‚Ä†L1-L30„Äë„ÄêF:src/lib/monitoring.ts‚Ä†L1-L36„Äë

## ‚ö° Critical Focus
1. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ç—Ä–∏–Ω—É**: –¥–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é/—Ñ–∏–ª—å—Ç—Ä—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ Prisma –∏ –∫—ç—à (`unstable_cache` –∏–ª–∏ ISR). –ë–µ–∑ —ç—Ç–æ–≥–æ —Ä–æ—Å—Ç –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —Ç–∞–π–º–∞—É—Ç–∞–º.
2. **Checkout 2.0**: –≤–Ω–µ–¥—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É (Stripe/–ÆKassa), email/Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤. –¢–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ –≤ –ë–î.
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –≤—ã–Ω–µ—Å—Ç–∏ `cron_secret` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∏—Å–ø—Ä–∞–≤–∏—Ç—å `tsconfig.json`, –¥–æ–±–∞–≤–∏—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ–ø–æ—Ä—ã
- **App Router**: –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `src/app/(site)`, –∞–¥–º–∏–Ω–∫–∞ –≤ `src/app/admin`, REST‚Äë–º–∞—Ä—à—Ä—É—Ç—ã –≤ `src/app/api`. –ù–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Zod‚Äë–≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ Prisma `$transaction` –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü.„ÄêF:src/app/api/orders/route.ts‚Ä†L1-L189„Äë
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ**: –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ñ–ª–æ—É (–∫–æ—Ä–∑–∏–Ω–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ zustand –≤ `src/store`. –ù–µ –¥—É–±–ª–∏—Ä—É–π—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö ‚Äî —Ä–∞—Å—à–∏—Ä—è–π—Ç–µ —Å—Ç–æ—Ä—ã –∏ –ø–æ–∫—Ä—ã–≤–∞–π—Ç–µ —Ç–µ—Å—Ç–∞–º–∏.„ÄêF:src/store/useCartStore.ts‚Ä†L1-L112„Äë
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: `src/lib/moysklad-api.ts`, `src/lib/mail.ts`, `src/lib/telegram.ts` —Ç—Ä–µ–±—É—é—Ç –≤–∞–ª–∏–¥–Ω—ã—Ö env‚Äë–∫–ª—é—á–µ–π. –õ—é–±–∞—è –Ω–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–±—è–∑–∞–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `server-only` –∏ —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.„ÄêF:src/lib/moysklad-api.ts‚Ä†L1-L160„Äë„ÄêF:src/lib/mail.ts‚Ä†L1-L120„Äë

## ‚úÖ –ù–µ–¥–∞–≤–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–æ–¥—É–ª—å –∫–æ—Ä–∑–∏–Ω—ã —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ localStorage –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –æ—Å—Ç–∞—Ç–∫–æ–≤ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞.„ÄêF:src/components/ProductDetails.tsx‚Ä†L304-L376„Äë
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/checkout` —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ñ–æ—Ä–º—ã –∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ API, –∑–∞–∫–∞–∑ –æ—á–∏—â–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.„ÄêF:src/app/(site)/checkout/page.tsx‚Ä†L41-L190„Äë„ÄêF:src/app/api/orders/route.ts‚Ä†L64-L189„Äë
- Tailwind‚Äë–¥–∏–∑–∞–π–Ω‚Äë—Å–∏—Å—Ç–µ–º–∞ –∏ –∫–æ–Ω—Ñ–∏–≥–∏ Prettier/PostCSS —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞.„ÄêF:tailwind.config.ts‚Ä†L1-L220„Äë„ÄêF:prettier.config.js‚Ä†L1-L15„Äë

## üö® –û—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–æ–ª–≥–∏
- `src/app/(site)/page.tsx` –∏ `catalog/page.tsx` –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å: —É–±—Ä–∞—Ç—å `force-dynamic`, –≤–Ω–µ–¥—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –Ω–∞ —É—Ä–æ–≤–Ω–µ SQL.„ÄêF:src/app/(site)/page.tsx‚Ä†L7-L47„Äë„ÄêF:src/app/(site)/catalog/page.tsx‚Ä†L1-L51„Äë
- `src/app/api/admin/products/update-stock/route.ts` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—ã–∑–æ–≤ –ú–æ–π–°–∫–ª–∞–¥ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Prisma –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ retry ‚Äî –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞ `$transaction` + —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.„ÄêF:src/app/api/admin/products/update-stock/route.ts‚Ä†L13-L54„Äë
- `tsconfig.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π include (`route.ts.–¥tkk`) ‚Äî –ª–æ–º–∞–µ—Ç `tsc --noEmit`. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ –≤–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–∏–ø–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ CI.„ÄêF:tsconfig.json‚Ä†L1-L30„Äë
- `vercel.json` —Ö—Ä–∞–Ω–∏—Ç `cron_secret` –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. –°–µ–∫—Ä–µ—Ç –Ω—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ env –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–¥–ø–∏—Å—å –≤ —Ö—ç–Ω–¥–ª–µ—Ä–µ.„ÄêF:vercel.json‚Ä†L1-L9„Äë

## üß™ –¢–µ—Å—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
- `npm run lint`, `npm run test`, `npm run build` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–¥ PR. –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ <10‚ÄØ%, –ø–æ—ç—Ç–æ–º—É –ª—é–±—ã–µ –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–∞–º–∏ –≤ `tests/` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è node:test + @testing-library/react).„ÄêF:package.json‚Ä†L5-L28„Äë„ÄêF:tests/ui-components.test.tsx‚Ä†L1-L128„Äë
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–ª–æ—É –∫–æ—Ä–∑–∏–Ω–∞ ‚Üí checkout –∏ —Å–≤–µ—Ä—è—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã —á–µ—Ä–µ–∑ Prisma Studio (`npm run prisma:studio`).

## üìå Working Agreements
1. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ `README.md` –∏ `README_KYANCHIR.md` –≤ —Ç–æ–º –∂–µ PR.
2. **–°–µ–∫—Ä–µ—Ç—ã**: –Ω–∏–∫–∞–∫–∏–µ –∫–ª—é—á–∏ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ git. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env.local` –∏ Vercel secrets.
3. **–ö–æ–¥-—Å—Ç–∞–π–ª**: Prettier + ESLint –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã. –ù–µ –æ—Ç–∫–ª—é—á–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å –∫–æ–º–∞–Ω–¥–æ–π.
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Ä–æ—É—Ç–æ–≤ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `getServerSession` (–ø—Ä–∏–º–µ—Ä –≤ `update-stock`).„ÄêF:src/app/api/admin/products/update-stock/route.ts‚Ä†L13-L26„Äë

–§–∞–π–ª –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π AGENTS. –û–±–Ω–æ–≤–ª—è–π—Ç–µ –µ–≥–æ –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
